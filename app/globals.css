@tailwind base;
@tailwind components;
@tailwind utilities;

/* --- Base tokens & global behaviors --- */
:root { --velah: #7FCBD8; }

/* Smooth anchor scroll */
html:focus-within { scroll-behavior: smooth; }

/* Improve selection contrast (subtle brand tint) */
::selection { background-color: rgba(127,203,216,.25); }

/* Tap cursor on interactive elems */
a, button, [role='button'] { cursor: pointer; }

/* --- Base typography & surface defaults --- */
@layer base {
  html, body { @apply bg-white text-slate-900 antialiased; }
  h1, h2, h3, h4 { @apply tracking-tight; }
  a { @apply motion-safe:transition-colors; }
}

/* --- Reusable components (visual-only) --- */
@layer components {
  /* Cards */
  .card { @apply rounded-2xl border border-slate-200 bg-white shadow-soft; }
  .card-glass { @apply rounded-2xl border border-white/20 bg-white/60 backdrop-blur supports-[backdrop-filter]:bg-white/50; }
  .card-press { @apply motion-safe:transition-transform motion-safe:duration-200 hover:-translate-y-0.5; }

  /* Buttons */
  .btn { @apply inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2 text-sm font-medium motion-safe:transition-colors motion-safe:duration-200; }
  .btn-primary { @apply bg-black text-white hover:bg-slate-800 focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-black; }
  .btn-ghost { @apply bg-transparent hover:bg-slate-100; }
  .btn-link { @apply underline underline-offset-4 decoration-slate-300 hover:decoration-[var(--velah)]; }

  /* Links */
  .nav-link { @apply inline-flex items-center gap-1 underline underline-offset-4 decoration-slate-300 hover:decoration-[var(--velah)] motion-safe:transition-colors; }

  /* Chips (spec/labels) */
  .chip { @apply inline-flex items-center gap-1 rounded-full border border-slate-200 bg-white px-3 py-1 text-xs text-slate-600; }

  /* Sections (mobile-first rhythm) */
  .section { @apply py-16 sm:py-20; }

  /* Glassy sticky navbar surface */
  .glass-nav { @apply sticky top-0 z-50 border-b border-slate-200 bg-white/70 backdrop-blur supports-[backdrop-filter]:bg-white/60; }

  /* Prose defaults without needing extra plugin */
  .prose-default { @apply prose prose-slate max-w-none; }

  /* Accessible tap targets for small icons/buttons */
  .tap { @apply min-h-[44px] min-w-[44px]; }
}

/* --- Handy utilities --- */
@layer utilities {
  .hover-raise { @apply motion-safe:transition-transform motion-safe:duration-200 motion-safe:hover:-translate-y-0.5; }
  .hover-underline { @apply underline decoration-slate-300 underline-offset-4 hover:decoration-[var(--velah)] motion-safe:transition-colors; }
  .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
  .hide-scrollbar::-webkit-scrollbar { display: none; }
  .focus-ring { @apply outline-none focus-visible:ring-2 focus-visible:ring-[var(--velah)] focus-visible:ring-offset-2; }
}

/* --- Muted helper (kept for existing usage) --- */
.muted { @apply text-slate-500; }

/* ===== Restored custom animation/util helpers your components use ===== */

/* Pop-in (modals, cards) */
@keyframes pop-in {
  from { opacity: 0; transform: scale(.98) translateY(4px); }
  to   { opacity: 1; transform: scale(1) translateY(0); }
}
.animate-pop-in { animation: pop-in .25s cubic-bezier(.22,1,.36,1); }

/* Fade-in (overlays) */
@keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
.animate-fade-in { animation: fade-in .3s ease-out; }

/* Soft shake (inline error nudges) */
@keyframes soft-shake {
  0%,100% { transform: translateX(0); }
  20%     { transform: translateX(-2px); }
  40%     { transform: translateX(2px); }
  60%     { transform: translateX(-2px); }
  80%     { transform: translateX(2px); }
}
.animate-soft-shake { animation: soft-shake .35s ease-in-out; }

/* Loader spinner (used in modal “sending…”) */
@keyframes spin { to { transform: rotate(360deg); } }
.loader {
  width: 18px; height: 18px; border-radius: 50%;
  border: 2px solid rgba(0,0,0,.12); border-top-color: #000;
  animation: spin 1s linear infinite;
}

/* Success check (inline badge) */
.success-check {
  width: 22px; height: 22px; border-radius: 9999px; position: relative;
  border: 2px solid #10b981; /* emerald-500 */
}
.success-check::after {
  content: ""; position: absolute; left: 5px; top: 6px; width: 6px; height: 10px;
  border-right: 2px solid #10b981; border-bottom: 2px solid #10b981;
  transform: rotate(45deg);
}
